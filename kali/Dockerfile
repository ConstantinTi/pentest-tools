FROM kalilinux/kali-rolling:latest
RUN apt update && \
    apt -y dist-upgrade && \
    apt -y install kali-linux-top10 git zip openconnect python3 python3-pip && \
    apt -y autoremove && \
    apt -y clean

RUN apt -y install seclists curl enum4linux gobuster nbtscan nikto nmap onesixtyone oscanner smbclient smbmap smtp-user-enum snmp sslscan sipvicious tnscmd10g whatweb wkhtmltopdf && \
    python3 -m pip install git+https://github.com/Tib3rius/AutoRecon.git
    
RUN wget https://www.tenable.com/downloads/api/v1/public/pages/nessus/downloads/12207/download?i_agree_to_tenable_license_agreement=true -O ~/nessus.deb && \
    dpkg -i ~/nessus.deb && \
    rm ~/nessus.deb
CMD ["/bin/bash"]